<html>
  <body>
    <script type="text/javascript" src="threads.js"></script>
    <script type="text/javascript">
      var w = Thread.start(function (a, b, c) {
        console.log("HI");

        var count = 1000;

        setInterval(function () {
          count -= 1;
          if (count > 0) {
            console.log("HI FROM THREAD");
          }
        }, 500);

        return "FOO " + (a + b + c);
      }, [1,2,3]).done(function (msg) {
        console.log(msg)
      });

      setInterval(function () {
        console.log("HI FROM MAIN THREAD");
      }, 1000);
    </script>
  </body>
</html>